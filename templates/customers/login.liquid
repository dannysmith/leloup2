{% layout settings.customer_layout %}

  <div id="returning-customers">
      <h2 class="title">Returning Customers</h2>

    {% form 'customer_login' %}
      {{ form.errors | default_errors }}

      <div id="login_email" class="">
        <label for="customer_email" class="login">Email Address</label><br />
        <input type="email" value="" name="customer[email]" id="customer_email" class=""/>
      </div>

      {% if form.password_needed %}

        <div id="login_password" class="">
          <label for="customer_password" class="login">Password</label><br />
          <input type="password" value="" name="customer[password]" id="customer_password" class=""/>
          <div id="forgot_password">
            <a href="#" onclick="showRecoverPasswordForm();return false;">Forgot your password?</a>
          </div>
        </div>

      {% endif %}

      <div class="">
        <input class="btn" type="submit" value="Sign In" />
        <span class="note">or <a href="{{ shop.url }}">Return to Store</a></span>
      </div>
    {% endform %}
  </div>

  {% comment %}
    Recover Password Form
  {% endcomment %}

  <div id="recover-password" style='display:none'>
    <div class="template_header">
      <h2 class="title">Reset Password</h2>
      <p class="note">We will send you an email to reset your password.</p>
    </div>

    {% form 'recover_customer_password' %}
      {{ form.errors | default_errors }}

      <div id="recover_email" class="clearfix large_form">
        <label for="email" class="large">Email</label><br />
        <input type="email" value="" name="email" id="recover-email" class="" />
      </div>
      <div class="action_bottom">
        <input class="btn" type="submit" value="Submit" /><br />
        <span class="note">or <a href="#" onclick="hideRecoverPasswordForm();return false;">Cancel</a></span>
      </div>
    {% endform %}
  </div>



  <div id="create-customer">
      <h2 class="title">New Customers</h2>

    {% form 'create_customer' %}
      {{ form.errors | default_errors }}

      <div id="first_name">
        <label for="first_name" class="login">First Name</label><br />
        <input type="text" value="" name="customer[first_name]" id="first_name"/>
      </div>

      <div id="last_name">
        <label for="last_name" class="login">Last Name</label><br />
        <input type="text" value="" name="customer[last_name]" id="last_name"/>
      </div>

      <div id="email">
        <label for="email" class="login">Email Address</label><br />
        <input type="email" value="" name="customer[email]" id="email"/>
      </div>

      <div id="password">
        <label for="password" class="login">Password</label><br />
        <input type="password" value="" name="customer[password]" id="password"/>
      </div>
      
      <div id="accepts_marketing">
        <input type="hidden" name="customer[accepts_marketing]" value="false"/>
        <input type="checkbox" name="customer[accepts_marketing]" id="accepts_marketing" value="true" />
        <label for="accepts_marketing" class="login">Hear about our new stuff first?</label>
        <p class="small">We promise not to spam you, or pass your details on to anyone else.</p>
      </div>
      
      <div class="action_bottom">
        <input class="btn" type="submit" value="Create" />
        <span class="note">or <a href="{{ shop.url }}">Return to Store</a></span>
      </div>
    {% endform %}
  </div><!-- /#create-customer -->



<script type="text/javascript">
  function showRecoverPasswordForm() {
    document.getElementById('recover-password').style.display = 'inline-block';
    document.getElementById('returning-customers').style.display='none';
  }

  function hideRecoverPasswordForm() {
    document.getElementById('recover-password').style.display = 'none';
    document.getElementById('returning-customers').style.display = 'inline-block';
  }

  if (window.location.hash == '#recover') { showRecoverPasswordForm() }
</script>
